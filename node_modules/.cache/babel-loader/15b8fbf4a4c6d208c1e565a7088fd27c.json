{"ast":null,"code":"import _defineProperty from\"/home/egichuki/proj/portfolio/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/egichuki/proj/portfolio/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/egichuki/proj/portfolio/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/egichuki/proj/portfolio/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/egichuki/proj/portfolio/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/egichuki/proj/portfolio/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/egichuki/proj/portfolio/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/egichuki/proj/portfolio/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';var ContactForm=/*#__PURE__*/function(_Component){_inherits(ContactForm,_Component);var _super=_createSuper(ContactForm);function ContactForm(props){var _this;_classCallCheck(this,ContactForm);_this=_super.call(this,props);_this.submitForm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(document.querySelector('#alert')){document.querySelector('#alert').remove();}_this.setState({isSubmitting:true});axios.post('https://store.adveits.com/API/form.php',_this.state.values,{headers:{'Access-Control-Allow-Origin':'*','Content-Type':'application/json; charset=UTF-8'}}).then(function(response){if(response.data.status==='success'){_this.setState({responseMessage:_this.state.successMessage});}if(response.data.status==='warning'){_this.setState({responseMessage:_this.state.warningMessage});}if(response.data.status==='error'){_this.setState({responseMessage:_this.state.errorMessage});}_this.callAlert(_this.state.responseMessage,response.data.status);}).catch(function(error){_this.callAlert(_this.state.errorMessage,'error');});case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.removeAlert=function(){clearTimeout(_this.state.alertTimeout);_this.setState({alertTimeout:setTimeout(function(){var element=document.querySelector('#alert');element.classList.remove('fadeIn');element.classList.add('fadeOut');setTimeout(function(){element.remove();},900);},_this.state.delay)});};_this.callAlert=function(message,type){if(!document.querySelector('#alert')){if(type==='success'){_this.setState({alertClass:'success'});}if(type==='error'){_this.setState({alertClass:'danger'});}if(type==='warning'){_this.setState({alertClass:'warning'});}var alert='<div id=\"alert\" class=\"animated fadeIn alert alert--shadow alert-'+_this.state.alertClass+'\">'+message+'</div>';var element=document.querySelector('.wpcf7-form');element.insertAdjacentHTML('beforeend',alert);_this.removeAlert();}};_this.handleInputChange=function(e){return _this.setState({values:_objectSpread(_objectSpread({},_this.state.values),{},_defineProperty({},e.target.name,e.target.value))});};_this.state={values:{name:'',email:'',message:''},successMessage:\"Sender's message was sent successfully\",warningMessage:'Fill up the form, please!',errorMessage:'Something go wrong. Try again later!',alertClass:'',responseMessage:'',alertTimeout:'',delay:5000};return _this;}_createClass(ContactForm,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.submitForm,className:\"wpcf7-form\"},/*#__PURE__*/React.createElement(\"p\",{className:\"input-group gutter-width-30\"},/*#__PURE__*/React.createElement(\"span\",{className:\"gutter-width\"},/*#__PURE__*/React.createElement(\"input\",{name:\"name\",type:\"text\",value:this.state.values.name,onChange:this.handleInputChange,size:\"30\",maxLength:\"245\",required:\"required\",placeholder:\"Name *\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"gutter-width\"},/*#__PURE__*/React.createElement(\"input\",{name:\"email\",type:\"email\",value:this.state.values.email,onChange:this.handleInputChange,size:\"30\",maxLength:\"100\",required:\"required\",placeholder:\"Email/Phone no. *\"}))),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"textarea\",{name:\"message\",cols:\"45\",rows:\"8\",value:this.state.values.message,onChange:this.handleInputChange,maxLength:\"65525\",required:\"required\",placeholder:\"Message *\"})),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"input\",{name:\"submit\",type:\"submit\",className:\"btn btn-dark border-0 transform-scale-h\",defaultValue:\"Send\"})));}}]);return ContactForm;}(Component);export default ContactForm;","map":{"version":3,"sources":["/home/egichuki/proj/portfolio/App/src/components/form/ContactForm.js"],"names":["React","Component","axios","ContactForm","props","submitForm","e","preventDefault","document","querySelector","remove","setState","isSubmitting","post","state","values","headers","then","response","data","status","responseMessage","successMessage","warningMessage","errorMessage","callAlert","catch","error","removeAlert","clearTimeout","alertTimeout","setTimeout","element","classList","add","delay","message","type","alertClass","alert","insertAdjacentHTML","handleInputChange","target","name","value","email"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nclass ContactForm extends Component {\n    constructor( props ) {\n        super( props );\n\n        this.state = {\n            values: {\n                name: '',\n                email: '',\n                message: ''\n            },\n            successMessage: \"Sender's message was sent successfully\",\n            warningMessage: 'Fill up the form, please!',\n            errorMessage: 'Something go wrong. Try again later!',\n            alertClass: '',\n            responseMessage: '',\n            alertTimeout: '',\n            delay: 5000\n        };\n    }\n\n    submitForm = async e => {\n        e.preventDefault();\n\n        if ( document.querySelector( '#alert' ) ) {\n            document.querySelector( '#alert' ).remove();\n        }\n\n        this.setState( { isSubmitting: true } );\n\n        axios.post( 'https://store.adveits.com/API/form.php', this.state.values, {\n            headers: {\n                'Access-Control-Allow-Origin': '*',\n                'Content-Type': 'application/json; charset=UTF-8'\n            },\n        }, ).then( response => {\n            if ( response.data.status === 'success' ) {\n                this.setState( { responseMessage: this.state.successMessage } );\n            }\n\n            if ( response.data.status === 'warning' ) {\n                this.setState( { responseMessage: this.state.warningMessage } );\n            }\n\n            if ( response.data.status === 'error' ) {\n                this.setState( { responseMessage: this.state.errorMessage } );\n            }\n\n            this.callAlert( this.state.responseMessage, response.data.status )\n        } ).catch( error => {\n            this.callAlert( this.state.errorMessage, 'error' )\n        } );\n    };\n\n    removeAlert = () => {\n        clearTimeout( this.state.alertTimeout );\n        this.setState( {\n            alertTimeout: setTimeout( function() {\n                    var element = document.querySelector( '#alert' );\n                    element.classList.remove( 'fadeIn' );\n                    element.classList.add( 'fadeOut' );\n                    setTimeout( function() {\n                        element.remove()\n                    }, 900 )\n                }, this.state.delay\n            )\n        } );\n    };\n\n    callAlert = ( message, type ) => {\n        if ( ! document.querySelector( '#alert' ) ) {\n            if ( type === 'success' ) {\n                this.setState( { alertClass: 'success' } )\n            }\n\n            if ( type === 'error' ) {\n                this.setState( { alertClass: 'danger' } )\n            }\n\n            if ( type === 'warning' ) {\n                this.setState( { alertClass: 'warning' } )\n            }\n\n            var alert = '<div id=\"alert\" class=\"animated fadeIn alert alert--shadow alert-' + this.state.alertClass + '\">' + message + '</div>';\n\n            var element = document.querySelector( '.wpcf7-form' );\n\n            element.insertAdjacentHTML( 'beforeend', alert );\n\n            this.removeAlert();\n        }\n    };\n\n    handleInputChange = e =>\n        this.setState( {\n            values: {\n                ...this.state.values,\n                [e.target.name]: e.target.value\n            }\n        } );\n\n    render() {\n        return (\n            <form onSubmit={ this.submitForm } className=\"wpcf7-form\">\n                <p className=\"input-group gutter-width-30\">\n                    <span className=\"gutter-width\">\n                        <input name=\"name\"\n                               type=\"text\"\n                               value={ this.state.values.name }\n                               onChange={ this.handleInputChange }\n                               size=\"30\"\n                               maxLength=\"245\"\n                               required=\"required\"\n                               placeholder=\"Name *\" />\n                    </span>\n\n                    <span className=\"gutter-width\">\n                        <input name=\"email\"\n                               type=\"email\"\n                               value={ this.state.values.email }\n                               onChange={ this.handleInputChange }\n                               size=\"30\"\n                               maxLength=\"100\"\n                               required=\"required\"\n                               placeholder=\"Email/Phone no. *\" />\n                    </span>\n                </p>\n\n                <p>\n                    <textarea name=\"message\"\n                              cols=\"45\"\n                              rows=\"8\"\n                              value={ this.state.values.message }\n                              onChange={ this.handleInputChange }\n                              maxLength=\"65525\"\n                              required=\"required\"\n                              placeholder=\"Message *\"></textarea>\n                </p>\n\n                <p>\n                    <input name=\"submit\" type=\"submit\" className=\"btn btn-dark border-0 transform-scale-h\" defaultValue=\"Send\" />\n                </p>\n            </form>\n        );\n    }\n}\n\nexport default ContactForm;\n"]},"metadata":{},"sourceType":"module"}