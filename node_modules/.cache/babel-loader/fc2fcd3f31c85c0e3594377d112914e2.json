{"ast":null,"code":"import _defineProperty from \"/home/egichuki/proj/portfolio/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/egichuki/proj/portfolio/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"/home/egichuki/proj/portfolio/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/egichuki/proj/portfolio/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/egichuki/proj/portfolio/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/egichuki/proj/portfolio/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/egichuki/proj/portfolio/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/egichuki/proj/portfolio/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/egichuki/proj/portfolio/App/src/components/form/ContactForm.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nvar ContactForm = /*#__PURE__*/function (_Component) {\n  _inherits(ContactForm, _Component);\n\n  var _super = _createSuper(ContactForm);\n\n  function ContactForm(props) {\n    var _this;\n\n    _classCallCheck(this, ContactForm);\n\n    _this = _super.call(this, props);\n\n    _this.submitForm = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n\n                if (document.querySelector('#alert')) {\n                  document.querySelector('#alert').remove();\n                }\n\n                _this.setState({\n                  isSubmitting: true\n                });\n\n                axios.post('https://store.adveits.com/API/form.php', _this.state.values, {\n                  headers: {\n                    'Access-Control-Allow-Origin': '*',\n                    'Content-Type': 'application/json; charset=UTF-8'\n                  }\n                }).then(function (response) {\n                  if (response.data.status === 'success') {\n                    _this.setState({\n                      responseMessage: _this.state.successMessage\n                    });\n                  }\n\n                  if (response.data.status === 'warning') {\n                    _this.setState({\n                      responseMessage: _this.state.warningMessage\n                    });\n                  }\n\n                  if (response.data.status === 'error') {\n                    _this.setState({\n                      responseMessage: _this.state.errorMessage\n                    });\n                  }\n\n                  _this.callAlert(_this.state.responseMessage, response.data.status);\n                }).catch(function (error) {\n                  _this.callAlert(_this.state.errorMessage, 'error');\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.removeAlert = function () {\n      clearTimeout(_this.state.alertTimeout);\n\n      _this.setState({\n        alertTimeout: setTimeout(function () {\n          var element = document.querySelector('#alert');\n          element.classList.remove('fadeIn');\n          element.classList.add('fadeOut');\n          setTimeout(function () {\n            element.remove();\n          }, 900);\n        }, _this.state.delay)\n      });\n    };\n\n    _this.callAlert = function (message, type) {\n      if (!document.querySelector('#alert')) {\n        if (type === 'success') {\n          _this.setState({\n            alertClass: 'success'\n          });\n        }\n\n        if (type === 'error') {\n          _this.setState({\n            alertClass: 'danger'\n          });\n        }\n\n        if (type === 'warning') {\n          _this.setState({\n            alertClass: 'warning'\n          });\n        }\n\n        var alert = '<div id=\"alert\" class=\"animated fadeIn alert alert--shadow alert-' + _this.state.alertClass + '\">' + message + '</div>';\n        var element = document.querySelector('.wpcf7-form');\n        element.insertAdjacentHTML('beforeend', alert);\n\n        _this.removeAlert();\n      }\n    };\n\n    _this.handleInputChange = function (e) {\n      return _this.setState({\n        values: _objectSpread(_objectSpread({}, _this.state.values), {}, _defineProperty({}, e.target.name, e.target.value))\n      });\n    };\n\n    _this.state = {\n      values: {\n        name: '',\n        email: '',\n        message: ''\n      },\n      successMessage: \"Sender's message was sent successfully\",\n      warningMessage: 'Fill up the form, please!',\n      errorMessage: 'Something go wrong. Try again later!',\n      alertClass: '',\n      responseMessage: '',\n      alertTimeout: '',\n      delay: 5000\n    };\n    return _this;\n  }\n\n  _createClass(ContactForm, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.submitForm,\n        className: \"wpcf7-form\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"input-group gutter-width-30\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"gutter-width\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        name: \"name\",\n        type: \"text\",\n        value: this.state.values.name,\n        onChange: this.handleInputChange,\n        size: \"30\",\n        maxLength: \"245\",\n        required: \"required\",\n        placeholder: \"Name *\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"gutter-width\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        name: \"email\",\n        type: \"email\",\n        value: this.state.values.email,\n        onChange: this.handleInputChange,\n        size: \"30\",\n        maxLength: \"100\",\n        required: \"required\",\n        placeholder: \"Email/Phone no. *\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"textarea\", {\n        name: \"message\",\n        cols: \"45\",\n        rows: \"8\",\n        value: this.state.values.message,\n        onChange: this.handleInputChange,\n        maxLength: \"65525\",\n        required: \"required\",\n        placeholder: \"Message *\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        name: \"submit\",\n        type: \"submit\",\n        className: \"btn btn-dark border-0 transform-scale-h\",\n        defaultValue: \"Send\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }\n      })));\n    }\n  }]);\n\n  return ContactForm;\n}(Component);\n\nexport default ContactForm;","map":{"version":3,"sources":["/home/egichuki/proj/portfolio/App/src/components/form/ContactForm.js"],"names":["React","Component","axios","ContactForm","props","submitForm","e","preventDefault","document","querySelector","remove","setState","isSubmitting","post","state","values","headers","then","response","data","status","responseMessage","successMessage","warningMessage","errorMessage","callAlert","catch","error","removeAlert","clearTimeout","alertTimeout","setTimeout","element","classList","add","delay","message","type","alertClass","alert","insertAdjacentHTML","handleInputChange","target","name","value","email"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nclass ContactForm extends Component {\n    constructor( props ) {\n        super( props );\n\n        this.state = {\n            values: {\n                name: '',\n                email: '',\n                message: ''\n            },\n            successMessage: \"Sender's message was sent successfully\",\n            warningMessage: 'Fill up the form, please!',\n            errorMessage: 'Something go wrong. Try again later!',\n            alertClass: '',\n            responseMessage: '',\n            alertTimeout: '',\n            delay: 5000\n        };\n    }\n\n    submitForm = async e => {\n        e.preventDefault();\n\n        if ( document.querySelector( '#alert' ) ) {\n            document.querySelector( '#alert' ).remove();\n        }\n\n        this.setState( { isSubmitting: true } );\n\n        axios.post( 'https://store.adveits.com/API/form.php', this.state.values, {\n            headers: {\n                'Access-Control-Allow-Origin': '*',\n                'Content-Type': 'application/json; charset=UTF-8'\n            },\n        }, ).then( response => {\n            if ( response.data.status === 'success' ) {\n                this.setState( { responseMessage: this.state.successMessage } );\n            }\n\n            if ( response.data.status === 'warning' ) {\n                this.setState( { responseMessage: this.state.warningMessage } );\n            }\n\n            if ( response.data.status === 'error' ) {\n                this.setState( { responseMessage: this.state.errorMessage } );\n            }\n\n            this.callAlert( this.state.responseMessage, response.data.status )\n        } ).catch( error => {\n            this.callAlert( this.state.errorMessage, 'error' )\n        } );\n    };\n\n    removeAlert = () => {\n        clearTimeout( this.state.alertTimeout );\n        this.setState( {\n            alertTimeout: setTimeout( function() {\n                    var element = document.querySelector( '#alert' );\n                    element.classList.remove( 'fadeIn' );\n                    element.classList.add( 'fadeOut' );\n                    setTimeout( function() {\n                        element.remove()\n                    }, 900 )\n                }, this.state.delay\n            )\n        } );\n    };\n\n    callAlert = ( message, type ) => {\n        if ( ! document.querySelector( '#alert' ) ) {\n            if ( type === 'success' ) {\n                this.setState( { alertClass: 'success' } )\n            }\n\n            if ( type === 'error' ) {\n                this.setState( { alertClass: 'danger' } )\n            }\n\n            if ( type === 'warning' ) {\n                this.setState( { alertClass: 'warning' } )\n            }\n\n            var alert = '<div id=\"alert\" class=\"animated fadeIn alert alert--shadow alert-' + this.state.alertClass + '\">' + message + '</div>';\n\n            var element = document.querySelector( '.wpcf7-form' );\n\n            element.insertAdjacentHTML( 'beforeend', alert );\n\n            this.removeAlert();\n        }\n    };\n\n    handleInputChange = e =>\n        this.setState( {\n            values: {\n                ...this.state.values,\n                [e.target.name]: e.target.value\n            }\n        } );\n\n    render() {\n        return (\n            <form onSubmit={ this.submitForm } className=\"wpcf7-form\">\n                <p className=\"input-group gutter-width-30\">\n                    <span className=\"gutter-width\">\n                        <input name=\"name\"\n                               type=\"text\"\n                               value={ this.state.values.name }\n                               onChange={ this.handleInputChange }\n                               size=\"30\"\n                               maxLength=\"245\"\n                               required=\"required\"\n                               placeholder=\"Name *\" />\n                    </span>\n\n                    <span className=\"gutter-width\">\n                        <input name=\"email\"\n                               type=\"email\"\n                               value={ this.state.values.email }\n                               onChange={ this.handleInputChange }\n                               size=\"30\"\n                               maxLength=\"100\"\n                               required=\"required\"\n                               placeholder=\"Email/Phone no. *\" />\n                    </span>\n                </p>\n\n                <p>\n                    <textarea name=\"message\"\n                              cols=\"45\"\n                              rows=\"8\"\n                              value={ this.state.values.message }\n                              onChange={ this.handleInputChange }\n                              maxLength=\"65525\"\n                              required=\"required\"\n                              placeholder=\"Message *\"></textarea>\n                </p>\n\n                <p>\n                    <input name=\"submit\" type=\"submit\" className=\"btn btn-dark border-0 transform-scale-h\" defaultValue=\"Send\" />\n                </p>\n            </form>\n        );\n    }\n}\n\nexport default ContactForm;\n"]},"metadata":{},"sourceType":"module"}