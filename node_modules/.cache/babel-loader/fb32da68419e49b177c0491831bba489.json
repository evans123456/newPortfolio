{"ast":null,"code":"import _defineProperty from\"/home/egichuki/proj/portfolio/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/egichuki/proj/portfolio/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/egichuki/proj/portfolio/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/egichuki/proj/portfolio/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/egichuki/proj/portfolio/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/egichuki/proj/portfolio/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/egichuki/proj/portfolio/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/egichuki/proj/portfolio/App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';var CommentForm=/*#__PURE__*/function(_Component){_inherits(CommentForm,_Component);var _super=_createSuper(CommentForm);function CommentForm(props){var _this;_classCallCheck(this,CommentForm);_this=_super.call(this,props);_this.submitForm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(document.querySelector('#alert')){document.querySelector('#alert').remove();}_this.setState({isSubmitting:true});axios.post('https://store.adveits.com/API/form.php',_this.state.values,{headers:{'Access-Control-Allow-Origin':'*','Content-Type':'application/json; charset=UTF-8'}}).then(function(response){if(response.data.status==='success'){_this.setState({responseMessage:_this.state.successMessage});}if(response.data.status==='warning'){_this.setState({responseMessage:_this.state.warningMessage});}if(response.data.status==='error'){_this.setState({responseMessage:_this.state.errorMessage});}_this.callAlert(_this.state.responseMessage,response.data.status);}).catch(function(error){_this.callAlert(_this.state.errorMessage,'error');});case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.removeAlert=function(){clearTimeout(_this.state.alertTimeout);_this.setState({alertTimeout:setTimeout(function(){var element=document.querySelector('#alert');element.classList.remove('fadeIn');element.classList.add('fadeOut');setTimeout(function(){element.remove();},900);},_this.state.delay)});};_this.callAlert=function(message,type){if(!document.querySelector('#alert')){if(type==='success'){_this.setState({alertClass:'success'});}if(type==='error'){_this.setState({alertClass:'danger'});}if(type==='warning'){_this.setState({alertClass:'warning'});}var alert='<div id=\"alert\" class=\"animated fadeIn alert alert--shadow alert-'+_this.state.alertClass+'\">'+message+'</div>';var element=document.querySelector('#comment-form');element.insertAdjacentHTML('beforeend',alert);_this.removeAlert();}};_this.handleInputChange=function(e){return _this.setState({values:_objectSpread(_objectSpread({},_this.state.values),{},_defineProperty({},e.target.name,e.target.value))});};_this.state={values:{comment:'',author:'',email:'',url:''},successMessage:\"Sender's message was sent successfully\",warningMessage:'Fill up the form, please!',errorMessage:'Something go wrong. Try again later!',alertClass:'',responseMessage:'',alertTimeout:'',delay:5000};return _this;}_createClass(CommentForm,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.submitForm,id:\"comment-form\",className:\"comment-form\"},/*#__PURE__*/React.createElement(\"p\",{className:\"comment-notes\"},\"Your email address will not be published. Required fields are marked \",/*#__PURE__*/React.createElement(\"span\",{className:\"required\"},\"*\")),/*#__PURE__*/React.createElement(\"p\",{className:\"comment-form-comment\"},/*#__PURE__*/React.createElement(\"textarea\",{id:\"comment\",name:\"comment\",cols:\"45\",rows:\"8\",value:this.state.values.comment,onChange:this.handleInputChange,maxLength:\"65525\",required:\"required\",placeholder:\"Comments *\"})),/*#__PURE__*/React.createElement(\"p\",{className:\"input-group gutter-width-30\"},/*#__PURE__*/React.createElement(\"span\",{className:\"gutter-width\"},/*#__PURE__*/React.createElement(\"input\",{id:\"author\",name:\"author\",type:\"text\",value:this.state.values.author,onChange:this.handleInputChange,size:\"30\",maxLength:\"245\",required:\"required\",placeholder:\"Name *\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"gutter-width\"},/*#__PURE__*/React.createElement(\"input\",{id:\"email\",name:\"email\",type:\"email\",value:this.state.values.email,onChange:this.handleInputChange,size:\"30\",maxLength:\"100\",required:\"required\",placeholder:\"Email *\"}))),/*#__PURE__*/React.createElement(\"p\",{className:\"comment-form-url\"},/*#__PURE__*/React.createElement(\"input\",{id:\"url\",name:\"url\",type:\"url\",value:this.state.values.url,onChange:this.handleInputChange,size:\"30\",maxLength:\"200\",placeholder:\"Website *\"})),/*#__PURE__*/React.createElement(\"p\",{className:\"comment-form-cookies-consent custom-control custom-checkbox\"},/*#__PURE__*/React.createElement(\"input\",{id:\"wp-comment-cookies-consent\",className:\"custom-control-input\",name:\"wp-comment-cookies-consent\",type:\"checkbox\",defaultValue:\"yes\"}),/*#__PURE__*/React.createElement(\"label\",{className:\"custom-control-label\",htmlFor:\"wp-comment-cookies-consent\"},\"Save my name, email, and website in this browser for the next time I comment.\")),/*#__PURE__*/React.createElement(\"p\",{className:\"form-submit\"},/*#__PURE__*/React.createElement(\"input\",{name:\"submit\",type:\"submit\",className:\"btn btn-dark border-0 transform-scale-h\",defaultValue:\"Submit\"})));}}]);return CommentForm;}(Component);export default CommentForm;","map":{"version":3,"sources":["/home/egichuki/proj/portfolio/App/src/components/form/CommentForm.js"],"names":["React","Component","axios","CommentForm","props","submitForm","e","preventDefault","document","querySelector","remove","setState","isSubmitting","post","state","values","headers","then","response","data","status","responseMessage","successMessage","warningMessage","errorMessage","callAlert","catch","error","removeAlert","clearTimeout","alertTimeout","setTimeout","element","classList","add","delay","message","type","alertClass","alert","insertAdjacentHTML","handleInputChange","target","name","value","comment","author","email","url"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nclass CommentForm extends Component {\n    constructor( props ) {\n        super( props );\n\n        this.state = {\n            values: {\n                comment: '',\n                author: '',\n                email: '',\n                url: ''\n            },\n            successMessage: \"Sender's message was sent successfully\",\n            warningMessage: 'Fill up the form, please!',\n            errorMessage: 'Something go wrong. Try again later!',\n            alertClass: '',\n            responseMessage: '',\n            alertTimeout: '',\n            delay: 5000\n        };\n    }\n\n    submitForm = async e => {\n        e.preventDefault();\n\n        if ( document.querySelector( '#alert' ) ) {\n            document.querySelector( '#alert' ).remove();\n        }\n\n        this.setState( { isSubmitting: true } );\n\n        axios.post( 'https://store.adveits.com/API/form.php', this.state.values, {\n            headers: {\n                'Access-Control-Allow-Origin': '*',\n                'Content-Type': 'application/json; charset=UTF-8'\n            },\n        }, ).then( response => {\n            if ( response.data.status === 'success' ) {\n                this.setState( { responseMessage: this.state.successMessage } );\n            }\n\n            if ( response.data.status === 'warning' ) {\n                this.setState( { responseMessage: this.state.warningMessage } );\n            }\n\n            if ( response.data.status === 'error' ) {\n                this.setState( { responseMessage: this.state.errorMessage } );\n            }\n\n            this.callAlert( this.state.responseMessage, response.data.status )\n        } ).catch( error => {\n            this.callAlert( this.state.errorMessage, 'error' )\n        } );\n\n    };\n\n    removeAlert = () => {\n        clearTimeout( this.state.alertTimeout );\n\n        this.setState( {\n            alertTimeout: setTimeout( function() {\n                    var element = document.querySelector( '#alert' );\n                    element.classList.remove( 'fadeIn' );\n                    element.classList.add( 'fadeOut' );\n\n                    setTimeout( function() {\n                        element.remove()\n                    }, 900 )\n                }, this.state.delay\n            )\n        } );\n    };\n\n    callAlert = ( message, type ) => {\n        if ( ! document.querySelector( '#alert' ) ) {\n            if ( type === 'success' ) {\n                this.setState( { alertClass: 'success' } )\n            }\n\n            if ( type === 'error' ) {\n                this.setState( { alertClass: 'danger' } )\n            }\n\n            if ( type === 'warning' ) {\n                this.setState( { alertClass: 'warning' } )\n            }\n\n            var alert = '<div id=\"alert\" class=\"animated fadeIn alert alert--shadow alert-' + this.state.alertClass + '\">' + message + '</div>';\n\n            var element = document.querySelector( '#comment-form' );\n\n            element.insertAdjacentHTML( 'beforeend', alert );\n\n            this.removeAlert();\n        }\n    };\n\n    handleInputChange = e =>\n        this.setState( {\n            values: {\n                ...this.state.values,\n                [e.target.name]: e.target.value\n            }\n        } );\n\n    render() {\n        return (\n            <form onSubmit={ this.submitForm } id=\"comment-form\" className=\"comment-form\">\n                <p className=\"comment-notes\">Your email address will not be published. Required fields are marked <span className=\"required\">*</span></p>\n\n                <p className=\"comment-form-comment\">\n                    <textarea\n                        id=\"comment\"\n                        name=\"comment\"\n                        cols=\"45\"\n                        rows=\"8\"\n                        value={ this.state.values.comment }\n                        onChange={ this.handleInputChange }\n                        maxLength=\"65525\"\n                        required=\"required\"\n                        placeholder=\"Comments *\"></textarea>\n                </p>\n\n                <p className=\"input-group gutter-width-30\">\n                    <span className=\"gutter-width\">\n                        <input id=\"author\"\n                               name=\"author\"\n                               type=\"text\"\n                               value={ this.state.values.author }\n                               onChange={ this.handleInputChange }\n                               size=\"30\"\n                               maxLength=\"245\"\n                               required=\"required\"\n                               placeholder=\"Name *\" />\n                    </span>\n\n                    <span className=\"gutter-width\">\n                        <input id=\"email\"\n                               name=\"email\"\n                               type=\"email\"\n                               value={ this.state.values.email }\n                               onChange={ this.handleInputChange }\n                               size=\"30\"\n                               maxLength=\"100\"\n                               required=\"required\"\n                               placeholder=\"Email *\" />\n                    </span>\n                </p>\n\n                <p className=\"comment-form-url\">\n                    <input id=\"url\"\n                           name=\"url\"\n                           type=\"url\"\n                           value={ this.state.values.url }\n                           onChange={ this.handleInputChange }\n                           size=\"30\"\n                           maxLength=\"200\"\n                           placeholder=\"Website *\" />\n                </p>\n\n                <p className=\"comment-form-cookies-consent custom-control custom-checkbox\">\n                    <input id=\"wp-comment-cookies-consent\" className=\"custom-control-input\" name=\"wp-comment-cookies-consent\" type=\"checkbox\" defaultValue=\"yes\" />\n\n                    <label className=\"custom-control-label\" htmlFor=\"wp-comment-cookies-consent\">Save my name, email, and website in this browser for the next time I comment.</label>\n                </p>\n\n                <p className=\"form-submit\">\n                    <input name=\"submit\" type=\"submit\" className=\"btn btn-dark border-0 transform-scale-h\" defaultValue=\"Submit\" />\n                </p>\n            </form>\n        );\n    }\n}\n\nexport default CommentForm;\n"]},"metadata":{},"sourceType":"module"}